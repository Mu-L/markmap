import{S as e,i as a,s as t,e as l,f as s,g as n,d as r,k as o,l as c,o as i,a as d,t as f,c as m,q as u,b as h,h as p,j as v,D as b,m as g,n as x,N as w,p as E,r as k,u as $,O as y,H as U,v as S,C as R,P as V,w as D,x as I,y as _,z as A,F as L,B as T}from"./client.7c14d825.js";import{M as C,b as N,d as M}from"./markmap.cf60d7d1.js";import{F as O}from"./footer.1737b597.js";import{T as P,p as G,l as H,a as j,s as z}from"./loader.c045346e.js";const{document:F}=V;function J(e){let a,t,m,u,v,x,E,k,$,U,S,R,V,D,I,_,A,L,T,C,N=e[5].info.type&&q(e),M=e[5].error&&B(e);return{c(){a=l("div"),t=l("form"),m=l("span"),u=f("Open URL:"),v=d(),N&&N.c(),x=d(),E=l("input"),$=d(),U=l("a"),S=f("✓"),R=d(),V=l("a"),D=f("✗"),I=d(),_=l("a"),A=f("?"),L=d(),M&&M.c(),this.h()},l(e){a=s(e,"DIV",{class:!0});var l=n(a);t=s(l,"FORM",{class:!0});var o=n(t);m=s(o,"SPAN",{class:!0});var c=n(m);u=p(c,"Open URL:"),c.forEach(r),v=h(o),N&&N.l(o),x=h(o),E=s(o,"INPUT",{class:!0,style:!0,type:!0,value:!0}),$=h(o),U=s(o,"A",{class:!0});var i=n(U);S=p(i,"✓"),i.forEach(r),R=h(o),V=s(o,"A",{class:!0});var d=n(V);D=p(d,"✗"),d.forEach(r),I=h(o),_=s(o,"A",{class:!0});var f=n(_);A=p(f,"?"),f.forEach(r),o.forEach(r),L=h(l),M&&M.l(l),l.forEach(r),this.h()},h(){o(m,"class","hidden md:block mr-2"),o(E,"class","flex-1 border-b border-blue-500 pl-1 min-w-0"),b(E,"width","560px"),o(E,"type","url"),E.value=k=e[5].url,o(U,"class","ml-2 no-underline"),o(V,"class","ml-2 no-underline"),o(_,"class","ml-2 no-underline"),o(t,"class","flex"),o(a,"class","md:flex w-full")},m(l,s){c(l,a,s),g(a,t),g(t,m),g(m,u),g(t,v),N&&N.m(t,null),g(t,x),g(t,E),g(t,$),g(t,U),g(U,S),g(t,R),g(t,V),g(V,D),g(t,I),g(t,_),g(_,A),g(a,L),M&&M.m(a,null),T||(C=[i(E,"input",e[14]),i(U,"click",w(e[12])),i(V,"click",w(e[13])),i(_,"click",w(e[15])),i(t,"submit",w(e[12]))],T=!0)},p(e,l){e[5].info.type?N?N.p(e,l):(N=q(e),N.c(),N.m(t,x)):N&&(N.d(1),N=null),32&l&&k!==(k=e[5].url)&&(E.value=k),e[5].error?M?M.p(e,l):(M=B(e),M.c(),M.m(a,null)):M&&(M.d(1),M=null)},d(e){e&&r(a),N&&N.d(),M&&M.d(),T=!1,y(C)}}}function W(e){let a,t,o,d;return{c(){a=l("a"),t=f("Open URL")},l(e){a=s(e,"A",{});var l=n(a);t=p(l,"Open URL"),l.forEach(r)},m(l,s){c(l,a,s),g(a,t),o||(d=i(a,"click",w(e[11])),o=!0)},p:T,d(e){e&&r(a),o=!1,d()}}}function q(e){let a,t,i=e[5].info.type+"";return{c(){a=l("span"),t=f(i),this.h()},l(e){a=s(e,"SPAN",{class:!0});var l=n(a);t=p(l,i),l.forEach(r),this.h()},h(){o(a,"class","hidden md:block px-1 bg-blue-500 text-white rounded-l")},m(e,l){c(e,a,l),g(a,t)},p(e,a){32&a&&i!==(i=e[5].info.type+"")&&L(t,i)},d(e){e&&r(a)}}}function B(e){let a,t,i=e[5].error+"";return{c(){a=l("div"),t=f(i),this.h()},l(e){a=s(e,"DIV",{class:!0});var l=n(a);t=p(l,i),l.forEach(r),this.h()},h(){o(a,"class","ml-2 text-red-600")},m(e,l){c(e,a,l),g(a,t)},p(e,a){32&a&&i!==(i=e[5].error+"")&&L(t,i)},d(e){e&&r(a)}}}function K(e){let a,t,d;return{c(){a=l("textarea"),this.h()},l(e){a=s(e,"TEXTAREA",{class:!0,value:!0}),n(a).forEach(r),this.h()},h(){o(a,"class","w-full h-full p-1"),a.value=e[4]},m(l,s){c(l,a,s),t||(d=i(a,"input",e[10]),t=!0)},p(e,t){16&t&&(a.value=e[4])},d(e){e&&r(a),t=!1,d()}}}function X(e){let a,t,U,S,R,V,A,L,T,N,M,G,H,j,z,q,B,X,Q,Y,Z,ee,ae,te,le,se,ne,re,oe,ce,ie,de,fe,me,ue;function he(e,a){return e[5].show?J:W}let pe=he(e),ve=pe(e),be=!e[3]&&K(e);function ge(a){e[17].call(null,a)}function xe(a){e[18].call(null,a)}let we={content:e[4]};return void 0!==e[2]&&(we.mm=e[2]),void 0!==e[1]&&(we.el=e[1]),j=new C({props:we}),D.push((()=>I(j,"mm",ge))),D.push((()=>I(j,"el",xe))),X=new P({props:{class:"absolute right-0 bottom-0 mr-2 mb-2",mm:e[2],dirty:e[6]!==e[4]}}),de=new O({}),{c(){a=d(),t=l("div"),U=l("a"),S=f("NEW: markmap in VSCode!"),R=d(),V=l("main"),A=l("div"),ve.c(),L=d(),T=l("div"),N=l("div"),be&&be.c(),M=d(),G=l("div"),H=l("div"),m(j.$$.fragment),B=d(),m(X.$$.fragment),Q=d(),Y=l("div"),Z=l("div"),ee=l("a"),ae=f("Download as interactive HTML"),te=d(),le=l("div"),se=l("a"),ne=f("Download as SVG"),re=d(),oe=l("span"),ce=f("⚠️"),ie=d(),m(de.$$.fragment),this.h()},l(e){u('[data-svelte="svelte-r18bnt"]',F.head).forEach(r),a=h(e),t=s(e,"DIV",{class:!0,style:!0});var l=n(t);U=s(l,"A",{class:!0,href:!0,target:!0,rel:!0});var o=n(U);S=p(o,"NEW: markmap in VSCode!"),o.forEach(r),l.forEach(r),R=h(e),V=s(e,"MAIN",{class:!0});var c=n(V);A=s(c,"DIV",{class:!0});var i=n(A);ve.l(i),i.forEach(r),L=h(c),T=s(c,"DIV",{class:!0});var d=n(T);N=s(d,"DIV",{class:!0});var f=n(N);be&&be.l(f),f.forEach(r),M=h(d),G=s(d,"DIV",{class:!0});var m=n(G);H=s(m,"DIV",{class:!0});var b=n(H);v(j.$$.fragment,b),B=h(b),v(X.$$.fragment,b),b.forEach(r),Q=h(m),Y=s(m,"DIV",{});var g=n(Y);Z=s(g,"DIV",{class:!0});var x=n(Z);ee=s(x,"A",{});var w=n(ee);ae=p(w,"Download as interactive HTML"),w.forEach(r),x.forEach(r),te=h(g),le=s(g,"DIV",{class:!0,title:!0});var E=n(le);se=s(E,"A",{});var k=n(se);ne=p(k,"Download as SVG"),k.forEach(r),re=h(E),oe=s(E,"SPAN",{class:!0});var $=n(oe);ce=p($,"⚠️"),$.forEach(r),E.forEach(r),g.forEach(r),m.forEach(r),d.forEach(r),c.forEach(r),ie=h(e),v(de.$$.fragment,e),this.h()},h(){F.title="Try Markmap",o(U,"class","inline-block text-sm text-orange-600 underline"),o(U,"href","https://marketplace.visualstudio.com/items?itemName=gera2ld.markmap-vscode"),o(U,"target","_blank"),o(U,"rel","noreferrer noopener"),o(t,"class","fixed z-10 hidden md:block"),b(t,"top","15px"),b(t,"left","50%"),o(A,"class","flex items-center mb-4 text-sm"),o(N,"class","flex-1 min-w-0 border border-gray-300"),o(H,"class","markmap-wrapper flex-1"),o(Z,"class","inline-block px-4 py-2"),o(oe,"class","text-red-500"),o(le,"class","inline-block px-4 py-2"),o(le,"title","SVG does not work well with PrismJS and MathJax"),o(G,"class","flex-1 min-w-0 flex flex-col"),o(T,"class","flex-1 md:flex min-h-0 repl"),o(V,"class","inner flex flex-col md:fs")},m(l,s){c(l,a,s),c(l,t,s),g(t,U),g(U,S),c(l,R,s),c(l,V,s),g(V,A),ve.m(A,null),g(V,L),g(V,T),g(T,N),be&&be.m(N,null),e[16](N),g(T,M),g(T,G),g(G,H),x(j,H,null),g(H,B),x(X,H,null),g(G,Q),g(G,Y),g(Y,Z),g(Z,ee),g(ee,ae),g(Y,te),g(Y,le),g(le,se),g(se,ne),g(le,re),g(le,oe),g(oe,ce),c(l,ie,s),x(de,l,s),fe=!0,me||(ue=[i(U,"click",e[9]),i(ee,"click",w(e[8])),i(se,"click",w(e[7]))],me=!0)},p(e,[a]){pe===(pe=he(e))&&ve?ve.p(e,a):(ve.d(1),ve=pe(e),ve&&(ve.c(),ve.m(A,null))),e[3]?be&&(be.d(1),be=null):be?be.p(e,a):(be=K(e),be.c(),be.m(N,null));const t={};16&a&&(t.content=e[4]),!z&&4&a&&(z=!0,t.mm=e[2],_((()=>z=!1))),!q&&2&a&&(q=!0,t.el=e[1],_((()=>q=!1))),j.$set(t);const l={};4&a&&(l.mm=e[2]),80&a&&(l.dirty=e[6]!==e[4]),X.$set(l)},i(e){fe||(E(j.$$.fragment,e),E(X.$$.fragment,e),E(de.$$.fragment,e),fe=!0)},o(e){k(j.$$.fragment,e),k(X.$$.fragment,e),k(de.$$.fragment,e),fe=!1},d(l){l&&r(a),l&&r(t),l&&r(R),l&&r(V),ve.d(),be&&be.d(),e[16](null),$(j),$(X),l&&r(ie),$(de,l),me=!1,y(ue)}}}function Q(e,a){const t=document.createElement("a");t.download=e,t.href=a,t.click()}function Y(e,a,t){let l,s,n,r,o="";const c={url:"https://gist.github.com/gera2ld/af76a4c245b302206b16aec503dbe07b"};c.info=G(c.url);const{page:i}=U();function d(){r&&t(4,o=r.getValue())}let f,m;return S((async()=>{f=z((e=>{r&&r.setValue(e),t(4,o=e),t(6,m=o)}));const{default:e}=await Promise.all([import("./codemirror.37e6e80e.js"),__inject_styles(["client-ff2bd8be.css","codemirror-8033c53c.css"])]).then((function(e){return e[0]}));t(3,r=e(l,{lineNumbers:!0,mode:"markdown",value:o,indentUnit:2,tabSize:2})),r.setOption("extraKeys",{Tab:e=>{e.somethingSelected()?e.execCommand("indentMore"):e.replaceSelection(" ".repeat(e.getOption("indentUnit")))},"Shift-Tab":e=>{e.execCommand("indentLess")}}),r.on("change",M(d,500))})),R((()=>{t(3,r=null),f&&(f(),f=null)})),[l,s,n,r,o,c,m,function(){const e=s.outerHTML.replace(/<br>/g,"<br/>");Q("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(e))},function(){const{root:e,features:a}=N.transform(o),t=N.getUsedAssets(a),l=N.fillTemplate(e,t);Q("markmap.html","data:text/html;utf8,"+encodeURIComponent(l))},function(){A("event","click",{event_label:"markmapVSCodeFromREPL"})},function(e){t(4,o=e.target.value)},function(){t(5,c.show=!0,c)},async function(){try{const{type:e,d:a}=c.info;if(!e)throw new Error("Unsupported URL");await H(a),t(5,c.show=!1,c),t(5,c.error=null,c),window.location.hash="#?d="+a,A("event","openUrl",{event_label:e})}catch(e){t(5,c.error=e.message||"Unknown error",c),A("event","openUrl",{event_label:"error"})}},function(){t(5,c.show=!1,c)},function(e){t(5,c.url=e.target.value,c),t(5,c.info=G(c.url)||{},c)},function(){A("event","openUrl",{event_label:"help"});const e=document.createElement("div");e.innerHTML='\n<ol class="text-left list-decimal px-4 break-words">\n<li class="mb-1">GitHub Gist URL\n<div class="text-xs">e.g. https://gist.github.com/gera2ld/af76a4c245b302206b16aec503dbe07b</div></li>\n<li class="mb-1">Gitee Gist URL\n<div class="text-xs">e.g. https://gitee.com/gerald/codes/a73wgucr28dhlxp91kytm57</div></li>\n<li class="mb-1"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">CORS</a>-enabled URL to a markdown file, including raw file URL in GitHub or Gist\n<div class="text-xs">e.g. https://raw.githubusercontent.com/gera2ld/markmap/master/README.md</div></li>\n</ol>\n',j({text:"The following types of URLs are supported:",content:e})},function(e){D[e?"unshift":"push"]((()=>{l=e,t(0,l)}))},function(e){n=e,t(2,n)},function(e){s=e,t(1,s)}]}export default class extends e{constructor(e){super(),a(this,e,Y,X,t,{})}}

import __inject_styles from './inject_styles.5607aec6.js';